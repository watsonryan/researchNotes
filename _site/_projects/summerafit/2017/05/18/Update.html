<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title> DCS Vs. SF & Inital Testing of RRR </title>
    <meta name="description" content="">

    <link rel="stylesheet" href="http://localhost:4000/researchNotes/css/main.css">
    <link rel="canonical" href="http://localhost:4000/researchNotes/_projects/summerafit/2017/05/18/Update.html">

<!-- meta robots -->
    

<!-- loading fonts -->
    <!-- Open Sans -->
    <link href="http://localhost:4000/researchNotes/_assets/open_sans/style.css" rel="stylesheet">

    <!-- own icon font, created via https://icomoon.io/  -->
    <link href="http://localhost:4000/researchNotes/_assets/lablogIcons/style.css" rel="stylesheet">

    <!-- Ubuntu Mono for code -->
    <link href="http://localhost:4000/researchNotes/_assets/Ubuntu_Mono/style.css" rel='stylesheet' type='text/css'>

<!-- mathjax.org for math equations -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
    imageFont: null,
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
    tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]} ,
    menuSettings: { context: "Browser" }
    });
    </script>

    <script type="text/javascript"  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>

<!-- highlight.js for code syntax highlighting-->
<link rel="stylesheet" href="http://localhost:4000/researchNotes/_assets/highlight/styles/github.css">
<script src="http://localhost:4000/researchNotes/_assets/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<!--<link rel="stylesheet" href="http://yandex.st/highlightjs/7.3/styles/default.min.css">
<script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>-->


</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/researchNotes/index.html">Research Notes</a>

  <nav  class="main-menu">
  <input type="checkbox" id="menu" />
  <label for="menu"></label>
  <div class="trigger">

    <a class="page-link" href="/researchNotes/index.html"><span style = "font-family: 'lablogIcons';">  &#xe605; </span> Research Notes</a>

    
      <a class="page-link" href="/researchNotes/tasks.html"><span style = "font-family: 'lablogIcons';">  &#xf046; </span> Tasks</a>
    

    
<a class="page-link" href="/researchNotes/tags.html"><span style = "font-family: 'lablogIcons';">  &#xe600; </span> Tags</a>
    

    
      <a class="page-link" href="/researchNotes/archive.html"><span style = "font-family: 'lablogIcons';">  &#xe602; </span> Archive</a>
    

    <br>

    
      <a class="page-link" href="/researchNotes/_projects/labUpdates/labUpdates.html">
        <span style = "font-family: 'lablogIcons';">  &#xe60a; </span>
        
        
        Lab Updates
      </a>
    
      <a class="page-link" href="/researchNotes/_projects/summerAFIT/summerAFIT.html">
        <span style = "font-family: 'lablogIcons';">  &#xe60a; </span>
        
        
        AFIT Updates
      </a>
    
      <a class="page-link" href="/researchNotes/_projects/tutorials/tutorials.html">
        <span style = "font-family: 'lablogIcons';">  &#xe60a; </span>
        
        
        Tutorials
      </a>
    

    

    <br>

    
    <div class="menu-content">
      

    </div>
    

    

  </div>

  </nav>


  </div>


</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title"> DCS Vs. SF & Inital Testing of RRR </h1>
    <p class="post-meta">May 18, 2017 • Ryan Watson</p>

    
    <div>
     
       <a href="/researchNotes/tags.html#summerAFIT" title="Pages tagged summerAFIT" rel="tag" class = "tag"> summerAFIT </a>  &nbsp
     
       <a href="/researchNotes/tags.html#rrr" title="Pages tagged rrr" rel="tag" class = "tag"> rrr </a>  &nbsp
     
       <a href="/researchNotes/tags.html#dcs" title="Pages tagged dcs" rel="tag" class = "tag"> dcs </a>  &nbsp
     
       <a href="/researchNotes/tags.html#switchable+constraint" title="Pages tagged switchable constraint" rel="tag" class = "tag"> switchable constraint </a>  &nbsp
     
    </div>
    

  </header>

  <article class="post-content">
    <h2 id="realizing-reversing-recovering">Realizing, Reversing, Recovering</h2>

<h3 id="good-description">Good description</h3>

<blockquote>
  <p>RRR divides
loop closures into clusters based on topological similarity and then tries to find the largest subset of clusters than are consistent among themselves as well as with the underlying odometry. Consistency is considered in the chi-squared ($\mathcal{X}^2)$ sense. The algorithm first carries out consistency checks for each cluster in order to weed out incorrect links within it, followed by an intra-cluster consistency check. RRR is different from the previous algorithms as it explicitly requires convergence of the graph in order to verify the validity of loop closures. In contrast with SC and DCS, in RRR and MM loop closure decisions are not modeled as continuous variables but as discrete yes/no decisions that need to be made</p>
</blockquote>

<p><em>REF</em> $\rightarrow$ <a href="http://n.ethz.ch/~cesarc/files/IROS2014_latif.pdf">this paper</a></p>

<h3 id="getting-rrr-to-run-on-ubuntu-1604">Getting RRR to run on Ubuntu 16.04</h3>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>
<span class="gp">$ </span><span class="nb">cd</span> ~/git
<span class="gp">$ </span>git clone https://github.com/ylatif/rrr.git
<span class="gp">$ </span><span class="nb">cd </span>rrr
<span class="gp">$ </span>mkdir build; <span class="nb">cd </span>build;
<span class="gp">$ </span><span class="nb">export </span><span class="nv">G2O_INCLUDE_DIR</span><span class="o">=</span><span class="s1">'~/Documents/git/g2o/g2o/core'</span>
<span class="gp">$ </span><span class="nb">export </span><span class="nv">G2O_LIBRARIES</span><span class="o">=</span><span class="s1">'~/Documents/git/g2o/lib'</span>
<span class="gp">$ </span>EDITOR CMakeLists.txt

copy the following line into CMakeLists.txt so that gcc knows to 
compile the library with c++11. 


<span class="nb">set</span><span class="o">(</span>CMAKE_CXX_FLAGS <span class="s2">"</span><span class="k">${</span><span class="nv">CMAKE_CXX_FLAGS</span><span class="k">}</span><span class="s2"> -std=c++11"</span><span class="o">)</span>

<span class="gp">$ </span>cmake ../; make

</code></pre>
</div>

<h3 id="inital-test">Inital Test</h3>

<p>To perform an initial test of RRR, the Manhattan 3500 dataset with 10 false constraints was used. The image below shows the optimized pose graph using RRR. These results are not great ( $\mathcal{X}^2$ = 1539.7 ); however, it does show improvement over $L^2$, which has a total graph error of $\mathcal{X}^2$ = 3494.7</p>

<p align="center">
<a href="http://s1347.photobucket.com/user/rwatso12/media/Screenshot%20from%202017-05-18%2016-40-41_zpsqb6a3lyw.png.html" target="_blank"><img src="http://i1347.photobucket.com/albums/p701/rwatso12/Screenshot%20from%202017-05-18%2016-40-41_zpsqb6a3lyw.png" border="0" alt="rrrInitialTest photo Screenshot from 2017-05-18 16-40-41_zpsqb6a3lyw.png" /></a>
</p>

<p><br /><br /></p>

<h2 id="switch-factors-vs-dcs">Switch Factors Vs. DCS</h2>

<p>This section provides a performance evaluation of Switchable constraints and DCS when faced with a faulty initial graph. To do this, four commonly used datasets were selected and false loop closure constraints were added. Using these faulty datasets we quantify performance by looking at total graph error ( $\mathcal{X}^2$ ) and the number of iterations required to reach the minimum.</p>

<h3 id="manhattan-3500">Manhattan 3500</h3>

<p>The first dataset that we will look at is the commonly used Manhattan 3500. This is a simulated dataset, which was originally developed by Olson for <a href="http://rvsn.csail.mit.edu/graphoptim/eolson-graphoptim2006.pdf">this paper</a>. A picture of the initial pose graph is shown below.</p>

<p><img src="http://www.lucacarlone.com/images/M3500_eg2o.jpg" alt="man3500" align="middle" /></p>
<p align="center">
Pose Graph for Manhattan
</p>

<p><br /></p>

<p>Using the initial error free pose graph shown above, multiple false constraints were added to evaluate the performance of the robust optimization scheme. As a reference, the results for traditional $L^2$ optimization is shown below. ( Note, to reduce the amount of time to conduct this study, I limited the maximum number of iterations to 1000 )
<br /></p>

<table class="mbtablestyle">
  <thead>
    <tr>
      <th style="text-align: center">Num. False Constraints</th>
      <th style="text-align: center">Num. Iterations</th>
      <th style="text-align: center">$\mathcal{X}^2$</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">10</td>
      <td style="text-align: center">110</td>
      <td style="text-align: center">3494.8</td>
    </tr>
    <tr>
      <td style="text-align: center">20</td>
      <td style="text-align: center">1000</td>
      <td style="text-align: center">6519.5</td>
    </tr>
    <tr>
      <td style="text-align: center">30</td>
      <td style="text-align: center">1000</td>
      <td style="text-align: center">9776.3</td>
    </tr>
    <tr>
      <td style="text-align: center">40</td>
      <td style="text-align: center">1000</td>
      <td style="text-align: center">12736.5</td>
    </tr>
    <tr>
      <td style="text-align: center">50</td>
      <td style="text-align: center">1000</td>
      <td style="text-align: center">13998.3</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<p>The image below shows the optimization results for DCS and switch factors. Obviously, this is quite a dramatic improvement when compared to $L^2$ optimization.</p>

<p><a href="http://s1347.photobucket.com/user/rwatso12/media/m3500Comp_zpsspuzzjkx.png.html" target="_blank"><img src="http://i1347.photobucket.com/albums/p701/rwatso12/m3500Comp_zpsspuzzjkx.png" border="0" alt="m3500Comp photo m3500Comp_zpsspuzzjkx.png" /></a></p>
<p align="center">
Optimization results for Manhattan 3500
</p>

<p><br /><br /></p>

<h3 id="intel">Intel</h3>

<p>The next dataset we will look at was collected at Intel Reseach Lab in Seattle. This pose graph was obtained by processing the raw measurements from wheel odometry and laser range finder. The raw data can be found <a href="http://ais.informatik.uni-freiburg.de/slamevaluation">here</a></p>

<p align="center">
<img src="http://www.lucacarlone.com/images/intel_lago_map.jpg" alt="sphere3500" align="middle" />
</p>
<p align="center">
Inital Pose Graph for Sphere 3500
</p>

<p><br /></p>

<p>Again, using the initial error free pose graph shown above, multiple false constraints were added to evaluate the performance of the robust optimization scheme. The results for DCS and switch factors are shown below. To provide scale, the total graph error for $L^2$ optimization when there are 10 false constraints is $\mathcal{X}^2$ = 8076.2.</p>

<p><a href="http://s1347.photobucket.com/user/rwatso12/media/intelComp_zpsod0k5ac6.png.html" target="_blank"><img src="http://i1347.photobucket.com/albums/p701/rwatso12/intelComp_zpsod0k5ac6.png" border="0" alt="intelComp photo intelComp_zpsod0k5ac6.png" /></a></p>
<p align="center">
Optimization results for Intel 
</p>

<p><br /><br /></p>

  </article>

</div>

<div class="related-posts">
  
  
  
  
  
  
  
  <h3>Related Posts:</h3>
  <ul>
  
  <li class="relatedPost">
  <a href="/researchNotes/_projects/summerafit/2017/06/15/Update.html">Initial Testing of Bayes Mixture Model with Dirichlet Process
  </a> <span class = "post-meta"> • June 15, 2017</span>
  
  <span class = "post-meta"> • </span>
  
    <a href="/researchNotes/tags.html#summerAFIT" title="Pages tagged summerAFIT" rel="tag" class = "tag"> summerAFIT </a>  &nbsp
  
    <a href="/researchNotes/tags.html#rrr" title="Pages tagged rrr" rel="tag" class = "tag"> rrr </a>  &nbsp
  
    <a href="/researchNotes/tags.html#dcs" title="Pages tagged dcs" rel="tag" class = "tag"> dcs </a>  &nbsp
  
    <a href="/researchNotes/tags.html#switchable+constraint" title="Pages tagged switchable constraint" rel="tag" class = "tag"> switchable constraint </a>  &nbsp
  
  

  </li>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="relatedPost">
  <a href="/researchNotes/_projects/summerafit/2017/06/14/Update.html">Dirichlet Process Mixture Model
  </a> <span class = "post-meta"> • June 14, 2017</span>
  
  <span class = "post-meta"> • </span>
  
    <a href="/researchNotes/tags.html#summerAFIT" title="Pages tagged summerAFIT" rel="tag" class = "tag"> summerAFIT </a>  &nbsp
  
    <a href="/researchNotes/tags.html#rrr" title="Pages tagged rrr" rel="tag" class = "tag"> rrr </a>  &nbsp
  
    <a href="/researchNotes/tags.html#dcs" title="Pages tagged dcs" rel="tag" class = "tag"> dcs </a>  &nbsp
  
    <a href="/researchNotes/tags.html#switchable+constraint" title="Pages tagged switchable constraint" rel="tag" class = "tag"> switchable constraint </a>  &nbsp
  
  

  </li>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="relatedPost">
  <a href="/researchNotes/_projects/summerafit/2017/06/07/Update.html">Density Estimation
  </a> <span class = "post-meta"> • June  7, 2017</span>
  
  <span class = "post-meta"> • </span>
  
    <a href="/researchNotes/tags.html#summerAFIT" title="Pages tagged summerAFIT" rel="tag" class = "tag"> summerAFIT </a>  &nbsp
  
    <a href="/researchNotes/tags.html#rrr" title="Pages tagged rrr" rel="tag" class = "tag"> rrr </a>  &nbsp
  
    <a href="/researchNotes/tags.html#dcs" title="Pages tagged dcs" rel="tag" class = "tag"> dcs </a>  &nbsp
  
    <a href="/researchNotes/tags.html#switchable+constraint" title="Pages tagged switchable constraint" rel="tag" class = "tag"> switchable constraint </a>  &nbsp
  
  

  </li>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="relatedPost">
  <a href="/researchNotes/_projects/summerafit/2017/06/05/Update.html">Testing Sensitivity of M-Estimator to Kernel Width -- Continued
  </a> <span class = "post-meta"> • June  5, 2017</span>
  
  <span class = "post-meta"> • </span>
  
    <a href="/researchNotes/tags.html#summerAFIT" title="Pages tagged summerAFIT" rel="tag" class = "tag"> summerAFIT </a>  &nbsp
  
    <a href="/researchNotes/tags.html#rrr" title="Pages tagged rrr" rel="tag" class = "tag"> rrr </a>  &nbsp
  
    <a href="/researchNotes/tags.html#dcs" title="Pages tagged dcs" rel="tag" class = "tag"> dcs </a>  &nbsp
  
    <a href="/researchNotes/tags.html#switchable+constraint" title="Pages tagged switchable constraint" rel="tag" class = "tag"> switchable constraint </a>  &nbsp
  
  

  </li>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </ul>
  
</div>


<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://https-watsonryan-github-io-researchnotes.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>



<div class="wrapper">


<div class = "turn" style = " right: 0px" >
 <a rel = "next" href="/researchNotes/_projects/summerafit/2017/05/19/Update.html"> <span> &rsaquo; </span></a>
</div>





<div class = "turn" style = " left: 0px" >
 <a rel = "prev" href="/researchNotes/_projects/summerafit/2017/05/17/Update.html"> <span> &lsaquo; </span></a>
</div>



</div>


      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Research Notes</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>Research Notes</li>
          <li><a href="mailto:rwatso12@gmail.com">rwatso12@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/watsonryan">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="$grey-color-light" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">watsonryan</span>
            </a>
          </li>
          

          


<li>
  <a href="/researchNotes/feed.xml">
    <span class="icon icon-feed">
      <svg viewBox="0 0 16 16">
      <circle cx="3" cy="13" r="2" fill="$grey-color-light" />
        <path fill="$grey-color-light" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" d="M8.5,14.5"/>
        <path fill="$grey-color-light"  d="M8.708,15c-0.552,0-1-0.447-1-1c0-3.147-2.561-5.708-5.708-5.708c-0.552,0-1-0.448-1-1s0.448-1,1-1
          c4.25,0,7.708,3.458,7.708,7.708C9.708,14.553,9.261,15,8.708,15L8.708,15z"/>
        <path fill="$grey-color-light"  d="M13.469,14.999c-0.553,0-1-0.447-1-1C12.469,8.227,7.772,3.531,2,3.531c-0.552,0-1-0.448-1-1s0.448-1,1-1
          c6.875,0,12.469,5.593,12.469,12.468C14.469,14.552,14.021,14.999,13.469,14.999L13.469,14.999z"/>
      </svg>
    </span>
    <span class="feed"> RSS feed </span>
  </a>
</li>



        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text"></p>

      <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0;" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a>

      <p class="text"><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Research Notes</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://localhost:4000" property="cc:attributionName" rel="cc:attributionURL">Ryan Watson</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</p>

      </div>



    </div>

  </div>

</footer>


  </body>

</html>
