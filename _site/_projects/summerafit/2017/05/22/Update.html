<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title> M-estimator affect on covariance  </title>
    <meta name="description" content="">

    <link rel="stylesheet" href="http://localhost:4000/researchNotes/css/main.css">
    <link rel="canonical" href="http://localhost:4000/researchNotes/_projects/summerafit/2017/05/22/Update.html">

<!-- meta robots -->
    

<!-- loading fonts -->
    <!-- Open Sans -->
    <link href="http://localhost:4000/researchNotes/_assets/open_sans/style.css" rel="stylesheet">

    <!-- own icon font, created via https://icomoon.io/  -->
    <link href="http://localhost:4000/researchNotes/_assets/lablogIcons/style.css" rel="stylesheet">

    <!-- Ubuntu Mono for code -->
    <link href="http://localhost:4000/researchNotes/_assets/Ubuntu_Mono/style.css" rel='stylesheet' type='text/css'>

<!-- mathjax.org for math equations -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
    imageFont: null,
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
    tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]} ,
    menuSettings: { context: "Browser" }
    });
    </script>

    <script type="text/javascript"  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>

<!-- highlight.js for code syntax highlighting-->
<link rel="stylesheet" href="http://localhost:4000/researchNotes/_assets/highlight/styles/github.css">
<script src="http://localhost:4000/researchNotes/_assets/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<!--<link rel="stylesheet" href="http://yandex.st/highlightjs/7.3/styles/default.min.css">
<script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>-->


</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/researchNotes/index.html">Research Notes</a>

  <nav  class="main-menu">
  <input type="checkbox" id="menu" />
  <label for="menu"></label>
  <div class="trigger">

    <a class="page-link" href="/researchNotes/index.html"><span style = "font-family: 'lablogIcons';">  &#xe605; </span> Research Notes</a>

    
      <a class="page-link" href="/researchNotes/tasks.html"><span style = "font-family: 'lablogIcons';">  &#xf046; </span> Tasks</a>
    

    
<a class="page-link" href="/researchNotes/tags.html"><span style = "font-family: 'lablogIcons';">  &#xe600; </span> Tags</a>
    

    
      <a class="page-link" href="/researchNotes/archive.html"><span style = "font-family: 'lablogIcons';">  &#xe602; </span> Archive</a>
    

    <br>

    
      <a class="page-link" href="/researchNotes/_projects/labUpdates/labUpdates.html">
        <span style = "font-family: 'lablogIcons';">  &#xe60a; </span>
        
        
        Lab Updates
      </a>
    
      <a class="page-link" href="/researchNotes/_projects/pollinatorBot/pollinatorBot.html">
        <span style = "font-family: 'lablogIcons';">  &#xe60a; </span>
        
        
        Pollinator Bot Updates
      </a>
    
      <a class="page-link" href="/researchNotes/_projects/summerAFIT/summerAFIT.html">
        <span style = "font-family: 'lablogIcons';">  &#xe60a; </span>
        
        
        AFIT Updates
      </a>
    
      <a class="page-link" href="/researchNotes/_projects/tutorials/tutorials.html">
        <span style = "font-family: 'lablogIcons';">  &#xe60a; </span>
        
        
        Tutorials
      </a>
    

    

    <br>

    
    <div class="menu-content">
      

    </div>
    

    

  </div>

  </nav>


  </div>


</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title"> M-estimator affect on covariance  </h1>
    <p class="post-meta">May 22, 2017 • Ryan Watson</p>

    
    <div>
     
       <a href="/researchNotes/tags.html#summerAFIT" title="Pages tagged summerAFIT" rel="tag" class = "tag"> summerAFIT </a>  &nbsp
     
       <a href="/researchNotes/tags.html#covariance" title="Pages tagged covariance" rel="tag" class = "tag"> covariance </a>  &nbsp
     
       <a href="/researchNotes/tags.html#m-estimator" title="Pages tagged m-estimator" rel="tag" class = "tag"> m-estimator </a>  &nbsp
     
    </div>
    

  </header>

  <article class="post-content">
    <p>Now that we have several robust optimization techniques implemented, which clearly have a benefit in the positioning domain when compared to $L_2$, we would like to see how these techniques affect the uncertainty in the estimated state. To evaluate this, a simple test case was constructed where only odometery measurements and loop-closure constraints were added to the pose graph. The test graph can be seen below.</p>

<p align="center">
<a href="https://lh3.googleusercontent.com/aixcfgNMiZVCxO8YGggkP6HkzCNatZ6zH0ziYT1MwoDYDT75o7ffpwKgvE-eI_mSHzznfAhdRjl-PKtQnDoY_sMf11Xj1qyikt5aM1xHmRNMUu3LvDkiP5pOwexU3q-i4pRDN_UbHg=w630-h331-no" target="_blank"><img src="https://lh3.googleusercontent.com/aixcfgNMiZVCxO8YGggkP6HkzCNatZ6zH0ziYT1MwoDYDT75o7ffpwKgvE-eI_mSHzznfAhdRjl-PKtQnDoY_sMf11Xj1qyikt5aM1xHmRNMUu3LvDkiP5pOwexU3q-i4pRDN_UbHg=w630-h331-no" border="0" alt="correctOdo photo odometryTestCorrect_zpsalpe0u7s.png" /></a>
</p>
<p align="center">
Simple odometry test case 
</p>
<p><br /></p>

<p>With this simple test case, both $L_2$ and Huber optimization were tested. First, the graph was optimized using the $L_2$ cost function. The optimized graph and covariance of each node can be seen in the figure below.</p>

<p align="center">
<a href="https://lh3.googleusercontent.com/nD666DwU1YTBNPhjQRwWggT93eCIzobFxrXEuQJPFPJVy9oD0rXZ0YqKss4wkw-lWjj5N6VO43cAo9GVEtIo8z7gktdgLlTl1HrSSk1TFAgKs_gYwAMte3no7et6IE_2lZ96OAPGug=w630-h331-no" target="_blank"><img src="https://lh3.googleusercontent.com/nD666DwU1YTBNPhjQRwWggT93eCIzobFxrXEuQJPFPJVy9oD0rXZ0YqKss4wkw-lWjj5N6VO43cAo9GVEtIo8z7gktdgLlTl1HrSSk1TFAgKs_gYwAMte3no7et6IE_2lZ96OAPGug=w630-h331-no" border="0" alt="noFalseConstraintL2 photo noFalseConstraint_zpsnepnrnte.png" /></a>
</p>
<p align="center">
$L_2$ optimization with no false constraints 
</p>
<p><br /></p>

<p>Next, the Huber robust noise model was utilized. Again, the optimized graph and associated covariance of each node can be seen in the figure below. As would be expected, there is no substantial difference between the optimized solutions.</p>

<p align="center">
<a href="https://lh3.googleusercontent.com/yt-jZMpT71nEs5PHd8f1apfalxAEHaUFBn-Yd-hpfYHV6KfRk20j6kenlMwfd3pDwFNO39OAHwJkSIFSN-LJ88i2Nzh2vR307NyU75eXCCTvAi3fJqLUzedW01YhItZ7ZvzvbweAoQ=w630-h331-no" target="_blank"><img src="https://lh3.googleusercontent.com/yt-jZMpT71nEs5PHd8f1apfalxAEHaUFBn-Yd-hpfYHV6KfRk20j6kenlMwfd3pDwFNO39OAHwJkSIFSN-LJ88i2Nzh2vR307NyU75eXCCTvAi3fJqLUzedW01YhItZ7ZvzvbweAoQ=w630-h331-no" border="0" alt="NoFalseConstaintHuber photo noFalseConstraintHuber_zpsxg0lnur1.png" /></a>
</p>
<p align="center">
Huber optimization with no false constraints 
</p>
<p><br /><br /></p>

<p>Now, a false loop-closure constraint is added between nodes two and four — the optimizer believes that these nodes should be zero meters apart with an uncertainty of 0.2 meters on position. The new initial pose graph is depicted below.</p>

<p align="center">
<a href="https://lh3.googleusercontent.com/7eTw5aQx5E1VhMx4kHF1YsAcEBJLzqw8tWebU_gcNCF1sMKCWl0xBovRL4zY4XNS6rU8rJdNBjjB0auMyWUDJZDg01JsoFzbPwqUr7-Ss3T0YLvaZhAN0WxWKsCqSMBws1qyugNrUA=w630-h331-no" target="_blank"><img src="https://lh3.googleusercontent.com/7eTw5aQx5E1VhMx4kHF1YsAcEBJLzqw8tWebU_gcNCF1sMKCWl0xBovRL4zY4XNS6rU8rJdNBjjB0auMyWUDJZDg01JsoFzbPwqUr7-Ss3T0YLvaZhAN0WxWKsCqSMBws1qyugNrUA=w630-h331-no" border="0" alt="incorrectOdo photo odometryTestCorrect_zpsgtdn0vsr.png" /></a>
</p>
<p align="center">
Odometry test case with one false loop-closure 
</p>
<p><br /></p>

<p>Using the pose graph with a false loop-closure constraint as depicted above, $L_2$ optimization is performed again. When processing a graph that containts faults, it can clearly be seen in the figure below that the position solution is skewed by the false constraint; however, this does not correspond to a substantially larger uncertainty in the estimated state.</p>

<p align="center">
<a href="https://lh3.googleusercontent.com/fcJyvs6YhOXDSgE_eODsINypmFzkHbp4Wnyz7KcmK16EdKkRbDUetjw0wNy4-XRpFND1WG4NwKCXpQl6chIgsufmYoOQaqp0mnkUK68rVJh49dN2Ry7WmrSGwEkpYpD8HJlJokjl4Q=w630-h331-no" target="_blank"><img src="https://lh3.googleusercontent.com/fcJyvs6YhOXDSgE_eODsINypmFzkHbp4Wnyz7KcmK16EdKkRbDUetjw0wNy4-XRpFND1WG4NwKCXpQl6chIgsufmYoOQaqp0mnkUK68rVJh49dN2Ry7WmrSGwEkpYpD8HJlJokjl4Q=w630-h331-no" border="0" alt="falseConstNonRobust photo falseConstraintNonRobust_zpsfbfunf04.png" /></a>
</p>
<p align="center">
$L_2$ optimization with false constraint
</p>
<p><br /></p>

<p>Optimizing the same graph with the Huber noise model shows substancial imporvement with respect to positioning accuracy when compared to $L_2$ optimization. Additionally, the uncertainty in the state is increase, which is desired.</p>

<p align="center">
<a href="https://lh3.googleusercontent.com/aSG8NSGkFhXBme8wCGDTkWA9UP0UKgxJmjCSnl9ljSQwEariP1LNMLqvuGhWc4eGlWQhlV-Hzxn1RsP7DlaKfIAX_7qSsRrnnP2nGtDkPPuWxwSbv849hRzAUHWJeIuQDpLViMB2pg=w630-h331-no" target="_blank"><img src="https://lh3.googleusercontent.com/aSG8NSGkFhXBme8wCGDTkWA9UP0UKgxJmjCSnl9ljSQwEariP1LNMLqvuGhWc4eGlWQhlV-Hzxn1RsP7DlaKfIAX_7qSsRrnnP2nGtDkPPuWxwSbv849hRzAUHWJeIuQDpLViMB2pg=w630-h331-no" border="0" alt="falseConstraintHuber photo falseConstraintHuber_zpspzt0omjk.png" /></a>
</p>
<p align="center">
Huber optimization with false constraint
</p>
<p><br /> <br /></p>

<h3 id="these-results-will-be-validated-tomorrow-with-more-robust-noise-models-being-tested">These results will be validated tomorrow with more robust noise models being tested.</h3>

<p><br /><br /></p>

  </article>

</div>

<div class="related-posts">
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <h3>Related Posts:</h3>
  <ul>
  
  <li class="relatedPost">
  <a href="/researchNotes/_projects/summerafit/2017/07/26/Update.html">Variational Inference: A Brief Introduction
  </a> <span class = "post-meta"> • July 26, 2017</span>
  
  <span class = "post-meta"> • </span>
  
    <a href="/researchNotes/tags.html#summerAFIT" title="Pages tagged summerAFIT" rel="tag" class = "tag"> summerAFIT </a>  &nbsp
  
    <a href="/researchNotes/tags.html#covariance" title="Pages tagged covariance" rel="tag" class = "tag"> covariance </a>  &nbsp
  
    <a href="/researchNotes/tags.html#m-estimator" title="Pages tagged m-estimator" rel="tag" class = "tag"> m-estimator </a>  &nbsp
  
  

  </li>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="relatedPost">
  <a href="/researchNotes/_projects/summerafit/2017/07/25/Update.html">Continued Testing of EM on Faulty Pose Graphs
  </a> <span class = "post-meta"> • July 25, 2017</span>
  
  <span class = "post-meta"> • </span>
  
    <a href="/researchNotes/tags.html#summerAFIT" title="Pages tagged summerAFIT" rel="tag" class = "tag"> summerAFIT </a>  &nbsp
  
    <a href="/researchNotes/tags.html#covariance" title="Pages tagged covariance" rel="tag" class = "tag"> covariance </a>  &nbsp
  
    <a href="/researchNotes/tags.html#m-estimator" title="Pages tagged m-estimator" rel="tag" class = "tag"> m-estimator </a>  &nbsp
  
  

  </li>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="relatedPost">
  <a href="/researchNotes/_projects/summerafit/2017/07/24/Update.html">Initial Processing Test of EM on Faulty Pose Graphs
  </a> <span class = "post-meta"> • July 24, 2017</span>
  
  <span class = "post-meta"> • </span>
  
    <a href="/researchNotes/tags.html#summerAFIT" title="Pages tagged summerAFIT" rel="tag" class = "tag"> summerAFIT </a>  &nbsp
  
    <a href="/researchNotes/tags.html#covariance" title="Pages tagged covariance" rel="tag" class = "tag"> covariance </a>  &nbsp
  
    <a href="/researchNotes/tags.html#m-estimator" title="Pages tagged m-estimator" rel="tag" class = "tag"> m-estimator </a>  &nbsp
  
  

  </li>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="relatedPost">
  <a href="/researchNotes/_projects/summerafit/2017/07/20/Update.html">G.M.M. Sensitivity to Dirichlet Hyperparameter
  </a> <span class = "post-meta"> • July 20, 2017</span>
  
  <span class = "post-meta"> • </span>
  
    <a href="/researchNotes/tags.html#summerAFIT" title="Pages tagged summerAFIT" rel="tag" class = "tag"> summerAFIT </a>  &nbsp
  
    <a href="/researchNotes/tags.html#covariance" title="Pages tagged covariance" rel="tag" class = "tag"> covariance </a>  &nbsp
  
    <a href="/researchNotes/tags.html#m-estimator" title="Pages tagged m-estimator" rel="tag" class = "tag"> m-estimator </a>  &nbsp
  
  

  </li>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </ul>
  
</div>


<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://https-watsonryan-github-io-researchnotes.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>



<div class="wrapper">


<div class = "turn" style = " right: 0px" >
 <a rel = "next" href="/researchNotes/_projects/summerafit/2017/05/23/Update.html"> <span> &rsaquo; </span></a>
</div>





<div class = "turn" style = " left: 0px" >
 <a rel = "prev" href="/researchNotes/_projects/summerafit/2017/05/19/Update.html"> <span> &lsaquo; </span></a>
</div>



</div>


      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Research Notes</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>Research Notes</li>
          <li><a href="mailto:rwatso12@gmail.com">rwatso12@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/watsonryan">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="$grey-color-light" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">watsonryan</span>
            </a>
          </li>
          

          


<li>
  <a href="/researchNotes/feed.xml">
    <span class="icon icon-feed">
      <svg viewBox="0 0 16 16">
      <circle cx="3" cy="13" r="2" fill="$grey-color-light" />
        <path fill="$grey-color-light" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" d="M8.5,14.5"/>
        <path fill="$grey-color-light"  d="M8.708,15c-0.552,0-1-0.447-1-1c0-3.147-2.561-5.708-5.708-5.708c-0.552,0-1-0.448-1-1s0.448-1,1-1
          c4.25,0,7.708,3.458,7.708,7.708C9.708,14.553,9.261,15,8.708,15L8.708,15z"/>
        <path fill="$grey-color-light"  d="M13.469,14.999c-0.553,0-1-0.447-1-1C12.469,8.227,7.772,3.531,2,3.531c-0.552,0-1-0.448-1-1s0.448-1,1-1
          c6.875,0,12.469,5.593,12.469,12.468C14.469,14.552,14.021,14.999,13.469,14.999L13.469,14.999z"/>
      </svg>
    </span>
    <span class="feed"> RSS feed </span>
  </a>
</li>



        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text"></p>

      <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0;" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a>

      <p class="text"><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Research Notes</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://localhost:4000" property="cc:attributionName" rel="cc:attributionURL">Ryan Watson</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</p>

      </div>



    </div>

  </div>

</footer>


  </body>

</html>
