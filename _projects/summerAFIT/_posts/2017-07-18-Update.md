---
title: "Validation of G.M.M Covariance Estimation Using Manhattan Pose Graph"
layout: post
date: "2017-07-18"
author: Ryan Watson 
tags:
  - summerAFIT
  - Gausian Mixture Model
  - max-mixtures
---


The previous two weeks have been spent, primarily, on porting code and tracking down bugs. Now, it looks like the G.M.M is working properly. To validate this, the Manhattan 3500 pose graph --- as depicted in Figure 1 --- was utilized. 

<br>
<p align="center">
<a href="https://lh3.googleusercontent.com/MFJqq4cG3-zRRHFYV0X0Nuf-KByo4M82MVt8dn7ttnvKybi26po-P98xlBxXqLPR9gAl1edk65ZX7bi4-rRNImVslN9seWDTRSaF2nzyed5ohrmJr7XdLK_zHj4wJcmNQG8Vn0SG5he4d1wJ28ySw6GGbubCNOvPelkoJ3Lc64PP-dQjSM2aD6SY0WiVDye-rXzDjhv0KyMIaOiojbPZ8peI9MlTSPA5KKC1YXce7w7lOnlXySwQelHUPhhJLp9ue8xEjYhuTbrZFS77fuzcoh94IsNVdMhAZ-Ee_2uVYsrXRAnAIRYKp6NfKmqzc1kXSXFAsaAt9N5174fb9NTYfrE6_jkz8_5ssNweE0ARbqJPOF29_0BhH46zElWA7ynvslASoVpPR4XjnyngnjKEtMBUEK4OQ-qrwLnmS8wZCpYy85y_Vs6jaIz2vIUV-SplEA2irlnOTcLdGJDIuSbGLgIEIzE2KqRtJ3DCbGmN1gVcUzKNgytx6f66ySl2VsoaFizX2JUyCVR3_WbBEtufPdDuF7RkRmoo3J4BDR7OpguzA2HL43qoqlm7pbeEazHCUKRiTCsUH-6mPs2O05cpTI7GldFDikbGYFOUd-BX1EbqRLVDM8T9=w608-h542-no" target="_blank"><img src="https://lh3.googleusercontent.com/MFJqq4cG3-zRRHFYV0X0Nuf-KByo4M82MVt8dn7ttnvKybi26po-P98xlBxXqLPR9gAl1edk65ZX7bi4-rRNImVslN9seWDTRSaF2nzyed5ohrmJr7XdLK_zHj4wJcmNQG8Vn0SG5he4d1wJ28ySw6GGbubCNOvPelkoJ3Lc64PP-dQjSM2aD6SY0WiVDye-rXzDjhv0KyMIaOiojbPZ8peI9MlTSPA5KKC1YXce7w7lOnlXySwQelHUPhhJLp9ue8xEjYhuTbrZFS77fuzcoh94IsNVdMhAZ-Ee_2uVYsrXRAnAIRYKp6NfKmqzc1kXSXFAsaAt9N5174fb9NTYfrE6_jkz8_5ssNweE0ARbqJPOF29_0BhH46zElWA7ynvslASoVpPR4XjnyngnjKEtMBUEK4OQ-qrwLnmS8wZCpYy85y_Vs6jaIz2vIUV-SplEA2irlnOTcLdGJDIuSbGLgIEIzE2KqRtJ3DCbGmN1gVcUzKNgytx6f66ySl2VsoaFizX2JUyCVR3_WbBEtufPdDuF7RkRmoo3J4BDR7OpguzA2HL43qoqlm7pbeEazHCUKRiTCsUH-6mPs2O05cpTI7GldFDikbGYFOUd-BX1EbqRLVDM8T9=w608-h542-no" border="0" alt=" photo M3500_eg2o_zpstu9zq4qo.jpg"/></a>
</p>
<p align="center">
Figure 1 :: Manhattan 3500 Pose-graph.   
</p>
<br>

Using the Manhattan 3500 pose-graph, 100 false constraints --- as shown in Figure 2 --- were added to see how well we can estimate the inlier/outlier distribution. 


<br>
<p align="center">
<a href="https://lh3.googleusercontent.com/CPH_KC4SoOC54MfRSh0ZNMbSYMACvng5k9ulD1fZlYotHTslehGHnvG53-0HgLd8M_mh_VCnJJDGlqLBEdhkh9_1BTUoVgWlqP_3p2XiubtS3lm360FNI403jefqKXPzjMFCrtRojsZpcvNxkhS5H5m94n-fbE-78PVUTeo9961RPu2oUcc3XqKFgymGraI5_MABLTW7_A3GVIhuUhf3lm4oklQ1dTpVOwuFlKr1jRkPlXxvzsQ6Mh0gt3cO4D2HvpuCi5226BONV0RnnULCL96hYP6pHM4vpErbv_WYtd33cujsP445fM4bLPpGCXeugxc1FZKmXKIbRtGDvWNSS7wkOegC9pDgcdPb7HA_FG9-phwSPa20IYRBUwZBNsxUvJqKqxR68QxIa9hksDUq_yjrwL3RxwlFBuYsu-7GKQZ7y0dyVEOtGI0PZ3hm7ErinG-FebbhYFO4JDQsheGmCV9xwG74WdkMSYKPKdCLMZBxeWGCpbuqZXJT29Y8nMC0m9Wsl7bBcMJycTOF7j0KE4FoxsA0G7t2dTNJvlycju_HvY5tlWdRNz3OkltkzVtzdA6skISDO6jEnkyD931MGkKywP13JvmoUc52lrE8b3XxyLUzFGZ4=w977-h665-no" target="_blank"><img src="https://lh3.googleusercontent.com/CPH_KC4SoOC54MfRSh0ZNMbSYMACvng5k9ulD1fZlYotHTslehGHnvG53-0HgLd8M_mh_VCnJJDGlqLBEdhkh9_1BTUoVgWlqP_3p2XiubtS3lm360FNI403jefqKXPzjMFCrtRojsZpcvNxkhS5H5m94n-fbE-78PVUTeo9961RPu2oUcc3XqKFgymGraI5_MABLTW7_A3GVIhuUhf3lm4oklQ1dTpVOwuFlKr1jRkPlXxvzsQ6Mh0gt3cO4D2HvpuCi5226BONV0RnnULCL96hYP6pHM4vpErbv_WYtd33cujsP445fM4bLPpGCXeugxc1FZKmXKIbRtGDvWNSS7wkOegC9pDgcdPb7HA_FG9-phwSPa20IYRBUwZBNsxUvJqKqxR68QxIa9hksDUq_yjrwL3RxwlFBuYsu-7GKQZ7y0dyVEOtGI0PZ3hm7ErinG-FebbhYFO4JDQsheGmCV9xwG74WdkMSYKPKdCLMZBxeWGCpbuqZXJT29Y8nMC0m9Wsl7bBcMJycTOF7j0KE4FoxsA0G7t2dTNJvlycju_HvY5tlWdRNz3OkltkzVtzdA6skISDO6jEnkyD931MGkKywP13JvmoUc52lrE8b3XxyLUzFGZ4=w977-h665-no"/></a>
</p>
<p align="center">
Figure 2 :: Manhattan 3500 Pose-graph with 100 False Constraints.   
</p>
<br>


Using the graph represented in Figure 2, an initial optimization utilizing $L_2$ was conducted to extract the residuals. The residual scatter is shown in Figure 3. From this figure, a clear inlier cluster is shown in the center with the scattered residuals representing the false constraints.

<br>
<p align="center">
<a href="https://lh3.googleusercontent.com/BFJdENp42xEjdZubwX7H7IrL33_8ncbfYe7EAnZyNuWeciaaOPSLiu3Y9RTLLrfwgvb8umCpdpg00J6gLw7_SqTwDH1QW26aEr1FNm5H2vDfD3e-lvP1H8G_jlVmTWMF2ToSHvN_V4iokQpGzdXrRlvyiwJfKVfS3LjkL9IkP6OHHYVya7_zaV1pbn0s7Q8LnMH2Q0VdAXRE6vin0bUQXx6evVlpEmZh6YaBOPaM24p0ogeCt5DdO3vxIA25ukEVLFiPPRYqujAAq17w8z4WtSg_wkAjxLiZs61cd2xMfbww8habxIgBEGAZIVOCHSSf0_j2tIrFXEp7ZJY37wYTpO3xuMex0Czl55MldDOLPHG_XaTsqEoDSLjY3CA8xQoxhBNB4ONRZhBVk6nhjY8Uj6x0f8cbgMn3UXm5BuXvZ0ybh87KzoM6VfMTQj6rIc6rK-DCsGtpbg3bb9Nocsk2xPQdH921GnEiWlJQmkR2W-ddog0dhJbWxQANRWJnTwVrpIHLXA34p9WslF8vk2lldq0p8adNq4CMhvOIDPA9IzXICeIYfO8hjWiNcVuoUycLOaKPLTS4ZSNyiqKe3jRv0ZRPi-R9U5K_tgfghVbSvhQJ6p5_91xJ=w1024-h539-no" target="_blank"><img src="https://lh3.googleusercontent.com/BFJdENp42xEjdZubwX7H7IrL33_8ncbfYe7EAnZyNuWeciaaOPSLiu3Y9RTLLrfwgvb8umCpdpg00J6gLw7_SqTwDH1QW26aEr1FNm5H2vDfD3e-lvP1H8G_jlVmTWMF2ToSHvN_V4iokQpGzdXrRlvyiwJfKVfS3LjkL9IkP6OHHYVya7_zaV1pbn0s7Q8LnMH2Q0VdAXRE6vin0bUQXx6evVlpEmZh6YaBOPaM24p0ogeCt5DdO3vxIA25ukEVLFiPPRYqujAAq17w8z4WtSg_wkAjxLiZs61cd2xMfbww8habxIgBEGAZIVOCHSSf0_j2tIrFXEp7ZJY37wYTpO3xuMex0Czl55MldDOLPHG_XaTsqEoDSLjY3CA8xQoxhBNB4ONRZhBVk6nhjY8Uj6x0f8cbgMn3UXm5BuXvZ0ybh87KzoM6VfMTQj6rIc6rK-DCsGtpbg3bb9Nocsk2xPQdH921GnEiWlJQmkR2W-ddog0dhJbWxQANRWJnTwVrpIHLXA34p9WslF8vk2lldq0p8adNq4CMhvOIDPA9IzXICeIYfO8hjWiNcVuoUycLOaKPLTS4ZSNyiqKe3jRv0ZRPi-R9U5K_tgfghVbSvhQJ6p5_91xJ=w1024-h539-no" border="0" alt=" photo residualScatter_zpsszsigx4x.png"/></a>
</p>
<p align="center">
Figure 3 :: Residual Scatter.   
</p>
<br>

With this set of residuals, we can utilize the G.M.M to estimate the inlier/outlier clusters. When Depicted in Figure 4 is the estimated inlier cluster. Through visual inspection, this looks like a fair estimate.

<br>
<p align="center">
<a href="https://lh3.googleusercontent.com/xisIWP8riWrH_4Ul0NYP1A7UtK7OvAkHhfesd7OXJo7aAYgwdWgdQccPLTu39KLZew1h8RupL7gREasxFczW8W6wGrAqgvOssfMh-xf1CzoPylB9tF2i1yg5XNYKX88q24_uybIrm-cQGOZShDy4Vv20fWR-qVMfiQqOevGknTSATjyeB9dRrwhK3dbSlMHQQ2poFIZX84rcw4ec92TlfWWf57fF7Ek73z-D6o5WtAMncXs1s7778fYlE_864RGR5tZpA-cVk_aXHZFKPV8IdSLF5oDvPupc3OB1_1iCyrsMQagi35ysTwduXBbIEbQFKYUkaMzh6DdHB8jRliW67qCTiXjn4R9R7v68M4ZsnSLKqadSH_XYhsiETl4b6tvNrVGcoQlEG7r0i_LexkY7sej9K0x1Yf-BDTtpG9YQkuKUgt2QjKSyBnomV-BHRSwBWyiHdtg_GC1ZFtP6NZzMEArwsZ0CB5NobU24ipw_MYnRO2aTqipsAadGIK5GE0hYA-dKbigBR_zyDiF1kYlkJWGRTFOCpegMe90kMSeCXQKQf5KUnYX-3G4m3iHIjlQHNgUgDli4LOckYhI-pbbiPf1d0n2TKrV8rlWRd08CsyUeFSwfdWBk=w1024-h539-no" target="_blank"><img src="https://lh3.googleusercontent.com/xisIWP8riWrH_4Ul0NYP1A7UtK7OvAkHhfesd7OXJo7aAYgwdWgdQccPLTu39KLZew1h8RupL7gREasxFczW8W6wGrAqgvOssfMh-xf1CzoPylB9tF2i1yg5XNYKX88q24_uybIrm-cQGOZShDy4Vv20fWR-qVMfiQqOevGknTSATjyeB9dRrwhK3dbSlMHQQ2poFIZX84rcw4ec92TlfWWf57fF7Ek73z-D6o5WtAMncXs1s7778fYlE_864RGR5tZpA-cVk_aXHZFKPV8IdSLF5oDvPupc3OB1_1iCyrsMQagi35ysTwduXBbIEbQFKYUkaMzh6DdHB8jRliW67qCTiXjn4R9R7v68M4ZsnSLKqadSH_XYhsiETl4b6tvNrVGcoQlEG7r0i_LexkY7sej9K0x1Yf-BDTtpG9YQkuKUgt2QjKSyBnomV-BHRSwBWyiHdtg_GC1ZFtP6NZzMEArwsZ0CB5NobU24ipw_MYnRO2aTqipsAadGIK5GE0hYA-dKbigBR_zyDiF1kYlkJWGRTFOCpegMe90kMSeCXQKQf5KUnYX-3G4m3iHIjlQHNgUgDli4LOckYhI-pbbiPf1d0n2TKrV8rlWRd08CsyUeFSwfdWBk=w1024-h539-no" border="0" alt=" photo inlierCov_zpsc8e16igm.png"/></a>
</p>
<p align="center">
Figure 4 :: Inlier Covariance Estimate.   
</p>
<br>


The next two figures shown the outlier covariance estimates provided by the G.M.M. Again, through visual inspection, these look like decent estimates of the residual covariance.

<br>
<p align="center">
<a href="https://lh3.googleusercontent.com/fzKH_Xpz77-r-k2rQFSWLTN84v10Q1aAfxn6GOr9xCfXxzfAjfqEYCGKSJDBQp2GFSPUVJ_0szDsYynlKT5ynjvpj2dMJ05ZaNJKh5KhcNcb013HvVGmxkBvBwW2-uoqckzaMfE1oxejpUDp9lS43dvudwFk6ifVeRD1Ig2lVAwTTN9S2eLeQtkdBZqeFb_zaEsXS_w7FE7cho0t1zAoRjkRWIs7hxAYR7rrgrY0ZWZtrR3UI1TwqSc110AK7rd2N-gTPBpbcPVxl6N2Y7beHju5w5DhxWE7Mq1qLr2MogQwEuT6juEdwypiJjPRgZIwdsAJPpJD6mxufJVR1pFcH5m7Q1-kpzDusceJ1rVCIuvwIT_3KhBB7SaVg3xFjqN4jUvkbxEKazpr53ZvmYq9WkXWG7-Llptz5aGNqkHUzpCtBn_WPnKSYYpbFAhDA3CD0SKPh8833X5KYFF-YLeNPz27JpP1sMPCCQzEgQ3jypqHXiDhbGnUOsR40TEwaIh3zJJ3m-En1u1VL-2ZQ_gzK0f0c9v6kXp9UYmMyf9_LQR1ajmgHU7xI5S-l7uo5cwq0fyih47um-W29q0Mf-pFsdK2Vzz6vc6Lv0CC2SPu8Ay0effIPx5h=w1024-h539-no" target="_blank"><img src="https://lh3.googleusercontent.com/fzKH_Xpz77-r-k2rQFSWLTN84v10Q1aAfxn6GOr9xCfXxzfAjfqEYCGKSJDBQp2GFSPUVJ_0szDsYynlKT5ynjvpj2dMJ05ZaNJKh5KhcNcb013HvVGmxkBvBwW2-uoqckzaMfE1oxejpUDp9lS43dvudwFk6ifVeRD1Ig2lVAwTTN9S2eLeQtkdBZqeFb_zaEsXS_w7FE7cho0t1zAoRjkRWIs7hxAYR7rrgrY0ZWZtrR3UI1TwqSc110AK7rd2N-gTPBpbcPVxl6N2Y7beHju5w5DhxWE7Mq1qLr2MogQwEuT6juEdwypiJjPRgZIwdsAJPpJD6mxufJVR1pFcH5m7Q1-kpzDusceJ1rVCIuvwIT_3KhBB7SaVg3xFjqN4jUvkbxEKazpr53ZvmYq9WkXWG7-Llptz5aGNqkHUzpCtBn_WPnKSYYpbFAhDA3CD0SKPh8833X5KYFF-YLeNPz27JpP1sMPCCQzEgQ3jypqHXiDhbGnUOsR40TEwaIh3zJJ3m-En1u1VL-2ZQ_gzK0f0c9v6kXp9UYmMyf9_LQR1ajmgHU7xI5S-l7uo5cwq0fyih47um-W29q0Mf-pFsdK2Vzz6vc6Lv0CC2SPu8Ay0effIPx5h=w1024-h539-no" border="0" alt=" photo oulierCov_zpsjgzlpuc8.png"/></a>
</p>
<p align="center">
Figure 5 :: First Outlier Covariance.   
</p>
<br>



<br>
<p align="center">
<a href="https://lh3.googleusercontent.com/hfNnrAWSkBTjXXjKXH_x7IsapEa-PZRDxNzyRG20vsXUxJgF60Juu3inNrJtQcT4th99g2fpnyUmvZY3wjsHrCQ-Nk1iOH928L2ykwRNibCynuevLTJY8OByv0KhOqvD1QA7dDjEgx2ElmbZjwi5IhAPYZjCOhAOTtsLLT0hfz8d5cRYSX7bYlGcgErsntnqpEwG3-cTe08H2onbu1B-iHKCMfHCvUeJuAJERQ8PJXkAILXsqEs55pj-ZjJmJxuu3LgQ7P__gJaRzWjXcMpQHGWANV25NqkqyGF3IJ34QIEQbicYz9MPm0yuDoqFbSHftKfOYT3LWsN17EtrnmMrPA-ZrJCa_U1uielRRp6z8tjIanrnwG3Bq5MsHWUDCeVSOK0-p_ujGnIMqKlpyFvYIPVcGCv8wiUFtcZ7pQiRStU8lSLs-FTsT3YoQgzxjnxJ7gQQxcFqmMqDinDRLOljmOse4KEtkU9GQx7uQJ6Tpx_l7J9Wxci9jOijkM0KcKXttBOTrCWQHiZBsxt_X1RvSAWJs-yDs4UJ7GBPsy2He9FzZyBNeiAMFtUnnzrmrUa8OtMP4TcFtQjDJyMJAkL6XrUNEmdeQ1n-Zff_zSuV3NuWAFVMkTjH=w1024-h566-no" target="_blank"><img src="https://lh3.googleusercontent.com/hfNnrAWSkBTjXXjKXH_x7IsapEa-PZRDxNzyRG20vsXUxJgF60Juu3inNrJtQcT4th99g2fpnyUmvZY3wjsHrCQ-Nk1iOH928L2ykwRNibCynuevLTJY8OByv0KhOqvD1QA7dDjEgx2ElmbZjwi5IhAPYZjCOhAOTtsLLT0hfz8d5cRYSX7bYlGcgErsntnqpEwG3-cTe08H2onbu1B-iHKCMfHCvUeJuAJERQ8PJXkAILXsqEs55pj-ZjJmJxuu3LgQ7P__gJaRzWjXcMpQHGWANV25NqkqyGF3IJ34QIEQbicYz9MPm0yuDoqFbSHftKfOYT3LWsN17EtrnmMrPA-ZrJCa_U1uielRRp6z8tjIanrnwG3Bq5MsHWUDCeVSOK0-p_ujGnIMqKlpyFvYIPVcGCv8wiUFtcZ7pQiRStU8lSLs-FTsT3YoQgzxjnxJ7gQQxcFqmMqDinDRLOljmOse4KEtkU9GQx7uQJ6Tpx_l7J9Wxci9jOijkM0KcKXttBOTrCWQHiZBsxt_X1RvSAWJs-yDs4UJ7GBPsy2He9FzZyBNeiAMFtUnnzrmrUa8OtMP4TcFtQjDJyMJAkL6XrUNEmdeQ1n-Zff_zSuV3NuWAFVMkTjH=w1024-h566-no" border="0" alt=" photo outlier2_zpsexh9wgvg.png"/></a>
</p>
<p align="center">
Figure 6 :: Second Outlier Covariance.   
</p>
<br>


## Next Steps
Next, I'm going to setup a simulation that will generate residual distributions. I'll use the simulated distributions to validate that the estimate inlier covariance approaches the true distribution as the number of G.M.M. iterations increases.

