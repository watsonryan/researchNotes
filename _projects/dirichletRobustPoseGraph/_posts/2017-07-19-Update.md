---
title: "Validation of G.M.M Covariance Estimation Using Simulated Distributions"
layout: post
date: "2017-07-19"
author: Ryan Watson 
tags:
  - dirichletRobustPoseGraph
  - Gausian Mixture Model
  - max-mixtures
---


Yesterday, we tested the ability of our GMM to estimate the covariance of a residual distribution using the Manhattan 3500 pose-graph. Today, we will continue to validate our GMM by simulating a distribution to see if our GMM approaches the correct covariance as the number of iterations increases. 

<br><br>

### First Test 

The first distribution that the GMM was tested on is depicted in Figure 1.



<br>
<p align="center">
<a href="https://lh3.googleusercontent.com/eMy5-Cdp3htUZ1baVwDdHHFFWelaexhl4n8KlUsYtHtwKRdCMlv1I9RSGZmD8TpD8BZdOJyYCp3fqxntQKRsIqlSoJ2rUEkFh6c6nUtQh8nIr_RDdAHT_zaBvUnWd83oVkGADpjEdg=w1024-h566-no" target="_blank"><img src="https://lh3.googleusercontent.com/eMy5-Cdp3htUZ1baVwDdHHFFWelaexhl4n8KlUsYtHtwKRdCMlv1I9RSGZmD8TpD8BZdOJyYCp3fqxntQKRsIqlSoJ2rUEkFh6c6nUtQh8nIr_RDdAHT_zaBvUnWd83oVkGADpjEdg=w1024-h566-no"/></a>
</p>
<p align="center">
Figure 1 :: Residual Scatter ( Ratio of Inler/Outler = 0.01 ).   
</p>
<br>

Using the distribution depicted in Figure 1, the GMM was utilized to provide a covariance estimate at different iteration values. The metric used to quantify the "closeness" of two covariance matricies was $ \|\| P_{true} - P_{est} \|\|_{F}$.


The convergence of the GMM as the number of iterations increases is shown in Figure 2.  Additionally, the final covariance estimate for the inlier distribution ( i.e. the covariance estimate when the number of iterations equaled fifty ) is shown in Figure 3. 

<br>
<p align="center">
<a href="https://lh3.googleusercontent.com/64yf_NF4CamayMwmgVkByCxEg1KTZeJA37x0mXBtpimDYgvQv2k7HseYfPtPxgls69trteEnhDKksUqN7hLgri7T3esWNxWF7pfHIh9bXHVGOx5bpP5_dW0I2_emE7jLn3IkgQPm1g=w1024-h566-no" target="_blank"><img src="https://lh3.googleusercontent.com/64yf_NF4CamayMwmgVkByCxEg1KTZeJA37x0mXBtpimDYgvQv2k7HseYfPtPxgls69trteEnhDKksUqN7hLgri7T3esWNxWF7pfHIh9bXHVGOx5bpP5_dW0I2_emE7jLn3IkgQPm1g=w1024-h566-no"/></a>
</p>
<p align="center">
Figure 2 :: Convergence of Covariance Estimate From GMM.   
</p>
<br>


<br>
<p align="center">
<a href="https://lh3.googleusercontent.com/-HghJkDadBemQSMrwTNZTeBG998S2eE1H0em1eogSbEfhSa4FopholQD_cRjWc78FxqJjTGZUmi6a-lacLNlygB9zViTpF9cFHCLj33UVt-7RucJhXI0--H9Jh9w1qZvr2-IKwXbeQ=w416-h67-no" target="_blank"><img src="https://lh3.googleusercontent.com/-HghJkDadBemQSMrwTNZTeBG998S2eE1H0em1eogSbEfhSa4FopholQD_cRjWc78FxqJjTGZUmi6a-lacLNlygB9zViTpF9cFHCLj33UVt-7RucJhXI0--H9Jh9w1qZvr2-IKwXbeQ=w416-h67-no" border="0" alt=" photo CodeCogsEqn_zpsaxae44q4.gif"/></a>
</p>
<p align="center">
Figure 3 :: Covariance Comparison.   
</p>
<br>

<br><br>

### Second Test 

From the previous test, we have seen that the covariance estimate approaches the true covariance as the number of iterations of the GMM is allowed to increase. However, that test did not contain a high ratio of outliers. For this test, we increase the fraction of outliers in the distribution. The residual scatter for this test is depicted in Figure 4.

<br>
<p align="center">
<a href="https://lh3.googleusercontent.com/YWuM0E7Ot6G2q7uMcufzgOpEt3was2X49sALk8y-cLXAUVlrPq1zzfR6GnhworD-dZ5VSeemYIrYBnpPa4K669Tv0_tip9KgykHAtHOZhV5Xms8s19oeDUrCClvI_yn1KV6YCHuO_Q=w1024-h566-no" target="_blank"><img src="https://lh3.googleusercontent.com/YWuM0E7Ot6G2q7uMcufzgOpEt3was2X49sALk8y-cLXAUVlrPq1zzfR6GnhworD-dZ5VSeemYIrYBnpPa4K669Tv0_tip9KgykHAtHOZhV5Xms8s19oeDUrCClvI_yn1KV6YCHuO_Q=w1024-h566-no" border="0" alt=" photo simScatter2_zpsbdnst01e.png"/></a>
</p>
<p align="center">
Figure 4 :: Residual Scatter ( Ratio of Inler/Outler = 0.1 ).   
</p>
<br>

Again, the Frobenius norm was utilized to quantify the accuracy of our estimate. The accuracy of the estimate as the number of iterations increases is shown in Figure 5. This result again shows that the GMM approaches the true covariance estimate as the number of iterations increases. 

<br>
<p align="center">
<a href="https://lh3.googleusercontent.com/ke0DiuuYzz1vzPJGqfPaP6mXWcHNdoj4LLyUR_Xj37c4mBN-WYc817g8FqFUhv_BwR8zrYeM0lA8IlVapSTMr-jnbVvaa49HZOPvEOazWDz85ShOEV1yxkS0pgytK1ZJbQEsUJDDbw=w1024-h566-no" target="_blank"><img src="https://lh3.googleusercontent.com/ke0DiuuYzz1vzPJGqfPaP6mXWcHNdoj4LLyUR_Xj37c4mBN-WYc817g8FqFUhv_BwR8zrYeM0lA8IlVapSTMr-jnbVvaa49HZOPvEOazWDz85ShOEV1yxkS0pgytK1ZJbQEsUJDDbw=w1024-h566-no" border="0" alt=" photo covEst2_zpsx2xkxi7d.png"/></a>
</p>
<p align="center">
Figure 5 :: Convergence of Covariance Estimate From GMM.   
</p>
<br>


The final covariance estimate for the inlier distribution ( i.e., the covariance estimate when the number of iterations equaled fifty ) is shown in Figure 6.

<br>
<p align="center">
<a href="https://lh3.googleusercontent.com/JzC7kdmP03YnJNhkUBlHyWWmqUOgc9rqY8qQdFskhXn2KPOOfHl8McaSF5Q214HAf-0diteosAn3_WA6SNjUQX_JD4Is4TEo-MLRJi6DjWuGLfiHYYJZ417279iDg6-puN7W-ZY9-A=w402-h67-no" target="_blank"><img src="https://lh3.googleusercontent.com/JzC7kdmP03YnJNhkUBlHyWWmqUOgc9rqY8qQdFskhXn2KPOOfHl8McaSF5Q214HAf-0diteosAn3_WA6SNjUQX_JD4Is4TEo-MLRJi6DjWuGLfiHYYJZ417279iDg6-puN7W-ZY9-A=w402-h67-no" border="0" alt=" photo CodeCogsEqn 1_zpszaabqtv0.gif"/></a>
</p>
<p align="center">
Figure 6 :: Covariance Comparison.   
</p>
<br>

<br><br>

### Final Test 


For the final test, we increase the fraction of outliers to 30 percent. The scatter of the residuals is shown in Figure 7.


<br>
<p align="center">
<a href="https://lh3.googleusercontent.com/pAlOV_lAfnluMKP0Dz2KIS5cqYO8l-6lR0pIErRkqrk9_ona65dYfCLisFoJYYDPox9_l-gK3mYl8aHkfjR11Dv4DWtA8PSFHEUk49KXjOMWXSQ3XxcFC4bIghGdgQ2j7GG8wB1sFg=w1024-h566-no" target="_blank"><img src="https://lh3.googleusercontent.com/pAlOV_lAfnluMKP0Dz2KIS5cqYO8l-6lR0pIErRkqrk9_ona65dYfCLisFoJYYDPox9_l-gK3mYl8aHkfjR11Dv4DWtA8PSFHEUk49KXjOMWXSQ3XxcFC4bIghGdgQ2j7GG8wB1sFg=w1024-h566-no" border="0" alt=" photo simScatter3_zpsfinbvgo6.png"/></a>
</p>
<p align="center">
Figure 7 :: Residual Scatter ( Ratio of Inler/Outler = 0.3 ).   
</p>
<br>

The accuracy of the covariance estimate as the number of iterations provided to the GMM increases is shown in Figure 9. This shows a trend similar to the two previously conducted tests.

<br>
<p align="center">
<a href="https://lh3.googleusercontent.com/s994_248IunbysgqHn-4Lu3wzEeaoIPzRQikwTdapfp6OjFJ1U1iUWb4KIq555yDy50hpQXm24fH6i0ZCJHKrXMYuhgkG0DDXLCOoMWnAKmVk1rZWdjzw6fNrU9JFhDILUSRsC_Ikg=w1024-h566-no" target="_blank"><img src="https://lh3.googleusercontent.com/s994_248IunbysgqHn-4Lu3wzEeaoIPzRQikwTdapfp6OjFJ1U1iUWb4KIq555yDy50hpQXm24fH6i0ZCJHKrXMYuhgkG0DDXLCOoMWnAKmVk1rZWdjzw6fNrU9JFhDILUSRsC_Ikg=w1024-h566-no" border="0" alt=" photo covEst3_zpslbhx8i9b.png"/></a>
</p>
<p align="center">
Figure 8 :: Convergence of Covariance Estimate From GMM.   
</p>
<br>

The final covariance estimate for the inlier distribution is shown in Figure 9.

<br>
<p align="center">
<a href="https://lh3.googleusercontent.com/-HghJkDadBemQSMrwTNZTeBG998S2eE1H0em1eogSbEfhSa4FopholQD_cRjWc78FxqJjTGZUmi6a-lacLNlygB9zViTpF9cFHCLj33UVt-7RucJhXI0--H9Jh9w1qZvr2-IKwXbeQ=w416-h67-no" target="_blank"><img src="https://lh3.googleusercontent.com/-HghJkDadBemQSMrwTNZTeBG998S2eE1H0em1eogSbEfhSa4FopholQD_cRjWc78FxqJjTGZUmi6a-lacLNlygB9zViTpF9cFHCLj33UVt-7RucJhXI0--H9Jh9w1qZvr2-IKwXbeQ=w416-h67-no" border="0" alt=" photo CodeCogsEqn 2_zpskgxg3vxq.gif"/></a>
</p>
<p align="center">
Figure 9 :: Covariance Comparison.   
</p>
<br>

<br>

## Next Steps
Next, these mixture models will be provided to the max-mixtures robust noise model to see how well it can optimize when faced with faulty pose graphs

<br><br>

