---
title: "Testing Bayes Mixture Model with Dirichlet Process On Manhattan 3500 Pose-Graph"
layout: post
date: "2017-06-21"
author: Ryan Watson 
tags:
  - Dirichlet Robust Pose Graph
  - Density Estimation
  - Mixture Model
  - Dirichlet Process
---

# Initial Testing 

To move from simulated data to a collected pose-graph, the manhattan3500 data-set 
was utilized -- this pose-graph is depicted in Figure 1. Initially, we process the 
fault-free pose-graph and the pose-graph that has 100 false constraints added. 

![](http://www.lucacarlone.com/images/M3500_eg2o.jpg)
<p align="center">
Fig 1 :: Manhattan 3500 pose-graph
</p>
<br>


After processing both pose-graphs, the residuals from each graph can be analyzed. 
The residual scatter plots for the fault-free graph and the faulty graph are shown in 
Figures 2 and 3, respectively. This plots depict what would be expected; both distributions
have approximately zero mean with the faulty graph residuals have a larger variance.


<p align="center">
<a href="https://lh3.googleusercontent.com/BNZrx-XybVTee_hnOFM8fuZOKYtJrNFDffgYlUks3WQ9k5flqMijAxzjTMJTNAn-jFlZTo4AQ299j9DkmGzZDjeYe7yR7UwGU51_0o080rQIuE5845abbjAfuv3lRuzfW00JQFJaKw=w630-h156-no" target="_blank"><img src="https://lh3.googleusercontent.com/BNZrx-XybVTee_hnOFM8fuZOKYtJrNFDffgYlUks3WQ9k5flqMijAxzjTMJTNAn-jFlZTo4AQ299j9DkmGzZDjeYe7yR7UwGU51_0o080rQIuE5845abbjAfuv3lRuzfW00JQFJaKw=w630-h156-no" border="0" alt=" photo imgonline-com-ua-twotoone-kq4xebQrYv_zpsoavucrk8.jpg"/></a>
</p>
<p align="center">
Fig 2 :: Fault free residual scatter   
</p>
<br>


<p align="center">
<a href="https://lh3.googleusercontent.com/aH8ONLnws-m4PTRFJA734FyUS8XbDXObWCB7c_FXlmi91AwdDSQMbyMS8SV-C2V5m3f5XOv5LKPsqFSVXKEQV8pNKVLC4xy-nzLcv_hhsBSFpwUi6hMC-9Gh2PsPhwcxLL-B6dajXA=w630-h156-no" target="_blank"><img src="https://lh3.googleusercontent.com/aH8ONLnws-m4PTRFJA734FyUS8XbDXObWCB7c_FXlmi91AwdDSQMbyMS8SV-C2V5m3f5XOv5LKPsqFSVXKEQV8pNKVLC4xy-nzLcv_hhsBSFpwUi6hMC-9Gh2PsPhwcxLL-B6dajXA=w630-h156-no" border="0" alt=" photo imgonline-com-ua-twotoone-kq4xebQrYv_zpsoavucrk8.jpg"/></a>
</p>
<p align="center">
Fig 3 :: Pose graph residual scatter when 100 faulty constraints are added   
</p>
<br>

Using the faulty residuals, the BMM DP was tested. To allow for easy 
visualization, the classification is shown in 2D slices of the 3D residual 
scatter (i.e., Figure 4 only shows the classification of the X-Y subset of the
data). 



<p align="center">
<a href="https://lh3.googleusercontent.com/s9G-ETU_5pVOlnqhG19669jd7EnHTruKDbRgPd5C2N3NUF4FyYhe0sudaSOr9AdQGZP2M0KAe1CzmV4mfTmtaTj3JnbGOV0LLh0zHEGk9h-HzMS3JMl_rgukuKCx_BOnow6XDBJaqA=w630-h344-no" target="_blank"><img src="https://lh3.googleusercontent.com/s9G-ETU_5pVOlnqhG19669jd7EnHTruKDbRgPd5C2N3NUF4FyYhe0sudaSOr9AdQGZP2M0KAe1CzmV4mfTmtaTj3JnbGOV0LLh0zHEGk9h-HzMS3JMl_rgukuKCx_BOnow6XDBJaqA=w630-h344-no" border="0" alt=" photo xyComp_zpsb50ukvct.png"/></a>
</p>
<p align="center">
Fig 4 :: Classification on X-Y residuals   
</p>
<br>

<p align="center">
<a href="https://lh3.googleusercontent.com/8OKMbRHYIsRpnO_xjs14NHiuV0Oaxucy0FOBScUlRhmHj30aX8_nYtEvoL1cduKQv9lXvXtOmoXmGEcr_fJ6Bo9Pc9MP94ghr8992CQ1cEzYQ1ArU1lzlF0_D6ffZmR0xpODdg_zdg=w630-h344-no" target="_blank"><img src="https://lh3.googleusercontent.com/8OKMbRHYIsRpnO_xjs14NHiuV0Oaxucy0FOBScUlRhmHj30aX8_nYtEvoL1cduKQv9lXvXtOmoXmGEcr_fJ6Bo9Pc9MP94ghr8992CQ1cEzYQ1ArU1lzlF0_D6ffZmR0xpODdg_zdg=w630-h344-no" border="0" alt=" photo xThetaComp_zpsbfgfyxgc.png"/></a>
</p>
<p align="center">
Fig 5 :: Classification on X-Heading residuals   
</p>
<br>


<p align="center">
<a href="https://lh3.googleusercontent.com/0XMqB5ZgIgZO_BtLamjJcynxbYVNFn94whs3uXc_LiDDXai5jKd1BFo2CBxt5c6M54tgRKF9jpiNP3t1lA8NKQDtE42EszqMgRYttHJcNIWivSmdpa7U4FScBH5ksqf4Ml8p9T_d9A=w630-h344-no" target="_blank"><img src="https://lh3.googleusercontent.com/0XMqB5ZgIgZO_BtLamjJcynxbYVNFn94whs3uXc_LiDDXai5jKd1BFo2CBxt5c6M54tgRKF9jpiNP3t1lA8NKQDtE42EszqMgRYttHJcNIWivSmdpa7U4FScBH5ksqf4Ml8p9T_d9A=w630-h344-no" border="0" alt=" photo yThetaComp_zpsx4y9vdrm.png"/></a>
</p>
<p align="center">
Fig 6 :: Classification on Y-Heading residuals   
</p>
<br>

From the three figures above, it can be seen that the BMM DP is categorizing the 
data into two bins ( i.e., inlier or outlier ) without being instructed that 
there are two categories present in the data-set. 


### Next Steps ::

Next, the mixture components provided by the BMM DP algorithm, which are  shown 
below, will be incorporated into the max-mixtures framework to see how well this
Gaussian mixture preforms.

$$ \mu_I = [ 0.04946242, -0.05057746, -0.0594329 ]$$

$$
P_I =
  \begin{bmatrix}
    16.89882198 && -0.90303439 &&  0.08602105 \\
   -0.90303439 && 17.08403007  && 0.06889149 \\
   0.08602105 &&  0.06889149 && 10.95290421
  \end{bmatrix}
$$

$$ \mu_O = [ 0.056539, -0.35273277, -0.83455116 ] $$

$$
P_O =
  \begin{bmatrix}
     2087.43888892 && -651.08477092 &&  198.82917436 \\
   -651.08477092 && 1977.03231206  && -92.72713996 \\
   198.82917436 &&  -92.72713996 && 1264.0179354
  \end{bmatrix}
$$




