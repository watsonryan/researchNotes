---
title: "Generating occupancy map with BLAM"
author: Ryan Watson
date: "2017-09-11"
tags:
 - pollinatorBot
 - bumble bot
 - blam test
 - occupancy grid
 - cost map
---

# Extracting 3D Occupancy Grid 

For path planning, we need an occupancy grid to represent the 3D environment the robot is navigating within. This can be extracted from our SLAM implementation ( [BLAM](https://github.com/erik-nelson/blam)  ). This is because BLAM is built upon an efficient 3D mapping framework known as [OctoMap](http://www2.informatik.uni-freiburg.de/~hornunga/pub/hornung13auro.pdf).  

<p align="center">
<a href="https://lh3.googleusercontent.com/qG_T9zZPcaXVpxSCY69v6dSG_42kJgStj0rUVOIX_nXvXXzJTGVA0-gilEi7Hid-xYuVG0J5Vfd5tDAW98ay1gQMvXu7-PJ9jguCWX_hT-QiLKztMYTPp3YFXgzRv_nJ2mEzeiXYdJFwPvKRfTaf5YgILrND_Ld5QlyqUN6PvTz7ytxijZG-49LrIACWHGYuiXlL6fR3uZc6w1yWbFKPEN20p_vcQ5VKrohWsHhzfvtUV8MIqQiul1G0gfXgiqdSeEaECfO5oNp-jytJwrmMAWbjVXrCbQfwPU8C2yOwwAeFv_EKxQz6HCyFJe63xkIcx00WN0xASF8yLkU9foX2Kb3GJ1xDgLK5v9JZF-McVyN1biHc2yGzo6cQwDfdep_8-oQJUiaYXuNfmav41QBD9Gzg5_Ueqgwwhkp7Ex-yCAmPUFeK6m5S4wefDXfom97RFinw9VD7UuAP7Q9xlSJV8SVbS0np5QqgsWJbf6PDIHO1MAM6RN9ysxyQxe38pY0OzD8c4G-AZNllTWvJeY_1geaYoaKMKbTlS2vfe5cjlng_8rkXmLc2ClPugZVGVfJZz3A182izqhOF4EGy1aZcgIiyR1F5AsxIU85ATf8LoHb0cLGi5rawjyO6T2qvlQDscG-lJjQArM8HbY188z01LgWq5mE-dZELQys=w1232-h434-no" target="_blank"><img src="https://lh3.googleusercontent.com/qG_T9zZPcaXVpxSCY69v6dSG_42kJgStj0rUVOIX_nXvXXzJTGVA0-gilEi7Hid-xYuVG0J5Vfd5tDAW98ay1gQMvXu7-PJ9jguCWX_hT-QiLKztMYTPp3YFXgzRv_nJ2mEzeiXYdJFwPvKRfTaf5YgILrND_Ld5QlyqUN6PvTz7ytxijZG-49LrIACWHGYuiXlL6fR3uZc6w1yWbFKPEN20p_vcQ5VKrohWsHhzfvtUV8MIqQiul1G0gfXgiqdSeEaECfO5oNp-jytJwrmMAWbjVXrCbQfwPU8C2yOwwAeFv_EKxQz6HCyFJe63xkIcx00WN0xASF8yLkU9foX2Kb3GJ1xDgLK5v9JZF-McVyN1biHc2yGzo6cQwDfdep_8-oQJUiaYXuNfmav41QBD9Gzg5_Ueqgwwhkp7Ex-yCAmPUFeK6m5S4wefDXfom97RFinw9VD7UuAP7Q9xlSJV8SVbS0np5QqgsWJbf6PDIHO1MAM6RN9ysxyQxe38pY0OzD8c4G-AZNllTWvJeY_1geaYoaKMKbTlS2vfe5cjlng_8rkXmLc2ClPugZVGVfJZz3A182izqhOF4EGy1aZcgIiyR1F5AsxIU85ATf8LoHb0cLGi5rawjyO6T2qvlQDscG-lJjQArM8HbY188z01LgWq5mE-dZELQys=w1232-h434-no" border="0" alt=" photo imgonline-com-ua-twotoone-XEN5fUgMoaSc_zpsliygmo1g.jpg"/></a>
</p>
<p align="center">
Fig 1 :: BLAM ROS graph   
</p>
<br>

Using the dataset collected in the green house we can conduct an initial test on extracting the 3D occupancy grid. The extracted 3D occupancy grid is depicted in Fig. 2.


<p align="center">
<a href="https://lh3.googleusercontent.com/pqLAnRdgZhyRgIabfsnu_DgTUTp8m-tM60j9Qy_FNym8q1Nz0ICBKoyLdwDMAH2CKX9JzriHNM_fk9vgAbwufREK-u4QxhC7JNCshUfKSVBApvC6ZAiSjS-MbrsIzbhsgLsI1GMbmAH7RUxDthvRcUlvLbZhpCajuwniFR0vYuUwTt37yOxNM1rE58Zx3xnhd398eihfTLf-yVmfbrIjc7PwjYnGmrmgvYk38F2w4pEEETBskvGmCUB0kX8vuo455PbZKM9WOMYSbsr7_flKAbQ34_oMcQRIMyN3Ex53dDtLXVk98H7GeGG2zcOORkdKZMZu0SkUX0PbISwQP7J8pxdSkyQgXtEeiKUpI65Na3mF9Mm-Fqt7BJMNiz_T1emU0rVzWXNnWRWxBISU6t7r5cHZK1m-SDVRWBmodiqnBe_QSLYAL_PgPtOfOfB5791DWRvAzrf8Jn0LcddefMOid16hw8mzpiGMj_aOk2Vfb4i-Yxwq7vkIFSfHFyINjaVkxM_uacOUaL1icTk-mFmTogY8B1oOzUAUPmaUqzLMI9tNcJv_wzj4liS0ZaI0rpAMjFvcb3vemBseNeVCoA75ezr1o25buQKzP8AyU3S5FA-y5dDchg7hoRVJm_nIIT_s7BfoorsBA_wkYL2xIF-sKOneRlecbc6nMGIDxY9yrMqmrw=w611-h379-no" target="_blank"><img src="https://lh3.googleusercontent.com/pqLAnRdgZhyRgIabfsnu_DgTUTp8m-tM60j9Qy_FNym8q1Nz0ICBKoyLdwDMAH2CKX9JzriHNM_fk9vgAbwufREK-u4QxhC7JNCshUfKSVBApvC6ZAiSjS-MbrsIzbhsgLsI1GMbmAH7RUxDthvRcUlvLbZhpCajuwniFR0vYuUwTt37yOxNM1rE58Zx3xnhd398eihfTLf-yVmfbrIjc7PwjYnGmrmgvYk38F2w4pEEETBskvGmCUB0kX8vuo455PbZKM9WOMYSbsr7_flKAbQ34_oMcQRIMyN3Ex53dDtLXVk98H7GeGG2zcOORkdKZMZu0SkUX0PbISwQP7J8pxdSkyQgXtEeiKUpI65Na3mF9Mm-Fqt7BJMNiz_T1emU0rVzWXNnWRWxBISU6t7r5cHZK1m-SDVRWBmodiqnBe_QSLYAL_PgPtOfOfB5791DWRvAzrf8Jn0LcddefMOid16hw8mzpiGMj_aOk2Vfb4i-Yxwq7vkIFSfHFyINjaVkxM_uacOUaL1icTk-mFmTogY8B1oOzUAUPmaUqzLMI9tNcJv_wzj4liS0ZaI0rpAMjFvcb3vemBseNeVCoA75ezr1o25buQKzP8AyU3S5FA-y5dDchg7hoRVJm_nIIT_s7BfoorsBA_wkYL2xIF-sKOneRlecbc6nMGIDxY9yrMqmrw=w611-h379-no" border="0" alt=" photo imgonline-com-ua-twotoone-XEN5fUgMoaSc_zpsliygmo1g.jpg"/></a>
</p>
<p align="center">
Fig 2 :: Initial construction of 3D occupancy grid   
</p>
<br>

Tomorrow, I will work on compressing the 3D graph into a 2D cost map through prunning for initial navigation testing.

